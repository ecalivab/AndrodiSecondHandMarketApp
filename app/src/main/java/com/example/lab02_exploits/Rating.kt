package com.example.lab02_exploits


import android.os.Bundle
import android.view.View
import android.widget.*
import android.widget.RatingBar.OnRatingBarChangeListener
import androidx.fragment.app.Fragment
import com.example.lab02_exploits.R
import kotlinx.android.synthetic.main.fragment_review_dialog.*

//@Serializable

class Rating :Fragment(){

    override fun onActivityCreated(savedInstanceState: Bundle?) {
        super.onActivityCreated(savedInstanceState)


        ratingbar!!.onRatingBarChangeListener =
            OnRatingBarChangeListener { ratingBar, v, b ->
                tvRatingScale!!.text = v.toString()
                when (ratingBar.rating.toInt()) {
                    1 -> tvRatingScale!!.text = "Very bad"
                    2 -> tvRatingScale!!.text = "Need some improvement"
                    3 -> tvRatingScale!!.text = "Good"
                    4 -> tvRatingScale!!.text = "Great"
                    5 -> tvRatingScale!!.text = "Awesome. I love it"
                    else -> tvRatingScale!!.text = ""
                }
            }

        reviewBtn.setOnClickListener(object : View.OnClickListener {
            override fun onClick(view: View?) {
                ratingcomment!!.setText("")
                ratingbar!!.rating = 0f
                Toast.makeText(
                    requireContext(),
                    "Thank you for sharing your feedback",
                    Toast.LENGTH_SHORT
                ).show()
            }
        })
    }
}









